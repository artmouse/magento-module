<?xml version="1.0" encoding="UTF-8" ?>
<!--
/**
* @author Amasty Team
* @copyright Copyright (c) 2022 Amasty (https://www.amasty.com)
* @package Automatic Related Products MFTF 3 for Magento 2 (System)
*/-->
<actionGroups xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/actionGroupSchema.xsd">
    <actionGroup name="AdminCreateBundlePackActionGroup">
        <arguments>
            <argument name="am_test_bundle" defaultValue="amTestBundlePack"/>
            <argument name="customerGroup" type="string" defaultValue="ALL GROUPS"/>
        </arguments>
        <amOnPage url="{{AdminBundlePacksGridPage.url}}" stepKey="amOnBundlePacksGridPageForCreate"/>
        <waitForAjaxLoad stepKey="waitForAjaxLoad"/>
        <click selector="{{AdminRuleGridActionSection.AddNewRuleButton}}" stepKey="pressAddBundlePackButton"/>
        <waitForElementVisible selector="{{MarketingSection.ruleName}}"
                               stepKey="waitForBundlePackNameFieldVisible"/>
        <fillField selector="{{MarketingSection.ruleName}}" userInput="{{am_test_bundle.bundle_name}}"
                   stepKey="fillFieldBundlePackName"/>
        <generateDate date="Now" format="m/d/Y g:i A" stepKey="generateDateFrom"/>
        <fillField selector="{{AdminNewBundlePacksSection.fromDate}}" userInput="{$generateDateFrom}"
                   stepKey="fillFromDateField"/>
        <selectOption selector="{{AdminNewCatalogPriceRule.customerGroups}}" userInput="{{customerGroup}}"
                      stepKey="selectCustomerGroup"/>
    </actionGroup>
</actionGroups>

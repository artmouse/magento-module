<?xml version="1.0" encoding="UTF-8"?>
<actionGroups xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/actionGroupSchema.xsd">
    <actionGroup name="AdminConfigurationFrontendOptionsActionGroup">
        <arguments>
            <argument name="generalConfig" defaultValue="frontendOptions"/>
        </arguments>

        <amOnPage url="{{AdminGroupcatConfigurationPage.url}}" stepKey="openConfigurationPage"/>
        <waitForPageLoad stepKey="waitForConfigurationPageLoad"/>
        <conditionalClick selector="{{AdminGroupcatConfigurationSection.FrontendOptionsTab}}" dependentSelector="{{AdminGroupcatConfigurationSection.HidePriceText}}"
                          visible="false" stepKey="openFrontendOptions"/>
        <fillField selector="{{AdminGroupcatConfigurationSection.HidePriceText}}"
                   userInput="{{frontendOptions.hidePriceText}}" stepKey="fillHidePriceText"/>
        <attachFile selector="{{AdminGroupcatConfigurationSection.File}}" userInput="{{frontendOptions.fileName}}"
                    stepKey="chooseFile"/>
        <waitForPageLoad stepKey="waitForFileLoad"/>
        <fillField selector="{{AdminGroupcatConfigurationSection.LinkUrl}}" userInput="{{frontendOptions.linkUrl}}"
                   stepKey="fillLinkUrl"/>
        <click selector="{{AdminGroupcatConfigurationSection.SaveConfig}}" stepKey="clickSaveConfig"/>
        <waitForPageLoad stepKey="waitForConfigSave"/>
        <conditionalClick selector="{{AdminGroupcatConfigurationSection.FrontendOptionsTab}}" dependentSelector="{{AdminGroupcatConfigurationSection.HidePriceText}}"
                          visible="true" stepKey="closeFrontendOptions"/>
        <magentoCLI command="cache:flush" arguments="config" stepKey="flushCache"/>
    </actionGroup>
</actionGroups>
